/*! For license information please see peculiarity.js.LICENSE.txt */
!function(){var t={549:function(t,e,i){"use strict";function s(t){return t}i.d(e,{Z:function(){return s}})},391:function(t,e,i){"use strict";i.d(e,{Z:function(){return s}});class s{constructor({item:t,distance:e,shift:i}){this.finish=!1,this.trigger=!1,this.proggressed=0,this.step=0,this.prevProggressed=0,this.passed=0,this.needDistance=0,this.triggerDistance=0,this.clone=null,this.clonePassed=null,this.item=t,this.shift=i,this.distance=e,this.refresh()}isFinished(){return!1===this.finish}isTrigger(){return!1===this.trigger}finished(){this.clone.remove(),this.clone=null,this.passed=this.getNewPassed(),this.shift.shift(this.item,this.passed),this.finish=!0}refresh(){this.trigger=!1,this.finish=!1,this.passed=0,this.proggressed=0,this.prevProggressed=0,this.step=0,this.clone=null,this.clonePassed=null,this.needDistance=this.getNeedDistance(),this.triggerDistance=this.getTriggerDistance()}progress(t){return this.proggressed=t*this.getDistance(),this.step=this.getStep(),this.prevProggressed=this.proggressed,this.passed+=this.step,this.isTrigger()&&(this.trigger=!0,this.item.dispatchEvent(new CustomEvent("tapeAnimateClone",{bubbles:!0,detail:{direction:this}}))),this.shift.shift(this.item,this.passed),this.clone&&(null===this.clonePassed&&(this.clonePassed=this.getClonePassed()),this.clonePassed+=this.step,this.shift.shift(this.clone,this.clonePassed)),this.isFinished()&&this.finished(),1!==t||(this.refresh(),this.item.dispatchEvent(new CustomEvent("tapeAnimateEnd",{bubbles:!0,detail:{direction:this}})),!1)}showClone(t){this.clone=this.item.cloneNode(!0),t(this.clone),this.clonePassed=this.getClonePassed(),this.shift.shift(this.clone,this.clonePassed)}getItem(){return this.item}getPassed(){return this.passed}static sort(t){return Array.from(t)}}},696:function(t,e,i){"use strict";i.d(e,{Z:function(){return r}});var s=i(391);class r extends s.Z{getNeedDistance(){return this.item.offsetWidth+this.item.offsetLeft}getTriggerDistance(){return this.needDistance-this.item.offsetWidth}getDistance(){return this.distance}getNewPassed(){return this.distance-this.item.offsetLeft-this.item.offsetWidth}getClonePassed(){return this.distance-this.clone.offsetLeft+Math.abs(this.step)}getStep(){return-(this.proggressed-this.prevProggressed)}isFinished(){return super.isFinished()&&0>=this.needDistance+this.passed}isTrigger(){return super.isTrigger()&&0>this.triggerDistance+this.passed}}},829:function(t,e,i){"use strict";i.d(e,{Z:function(){return r}});var s=i(391);class r extends s.Z{getNeedDistance(){return this.distance-this.item.offsetLeft}getTriggerDistance(){return this.needDistance-this.item.offsetWidth}getDistance(){return this.distance}getNewPassed(){return-this.item.offsetLeft}getClonePassed(){return-this.clone.offsetLeft-this.clone.offsetWidth-this.step}getStep(){return this.proggressed-this.prevProggressed}isFinished(){return super.isFinished()&&this.proggressed>=this.needDistance}isTrigger(){return super.isTrigger()&&this.proggressed>this.triggerDistance}static sort(t){return super.sort(t).reverse()}}},356:function(t,e,i){"use strict";i.d(e,{Z:function(){return c}});var s=i(549);class r{shift(t,e){t.style.transform=`translate3d(${e}px, 0, 0)`}}var n,o=i(829);class a{constructor({duration:t,timing:e,draw:i}){this.prevTF=0,this.isStop=!1,this.start=0,this.timeFraction=0,this.time=0,this.rafId=null,this.duration=t,this.timing=e,this.draw=i}begin(){this.start=performance.now(),this.rafId=requestAnimationFrame(this.animation.bind(this))}wait(){if(this.isStop)throw new Error("The animation is currently paused.");this.isStop=!0}continue(){if(!this.isStop)throw new Error("The animation is not paused.");this.isStop=!1,this.start=performance.now(),this.prevTF=this.timeFraction,null!==this.rafId&&cancelAnimationFrame(this.rafId),this.rafId=requestAnimationFrame(this.animation.bind(this))}animation(t){if(this.isStop)return;this.time=t;let e=this.time-this.start;e<0&&(e=0),this.timeFraction=this.prevTF+e/this.duration,this.timeFraction>1&&(this.timeFraction=1);const i=this.timing(this.timeFraction);this.draw(i)&&this.timeFraction<1&&(this.rafId=requestAnimationFrame(this.animation.bind(this)))}}!function(t){t.UNSPECIFIED="unspecified",t.START="start",t.WORK="work",t.PAUSE="pause"}(n||(n={}));var h=n,d=function(t,e,i,s){return new(i||(i=Promise))((function(r,n){function o(t){try{h(s.next(t))}catch(t){n(t)}}function a(t){try{h(s.throw(t))}catch(t){n(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((s=s.apply(t,e||[])).next())}))};class c{constructor({wrapper:t,direction:e=o.Z,options:i}){this.options={duration:2e4,timing:s.Z,animate:a,insert:"append",shift:r,elasticDistance:!0,optimize:!0},this.state=h.UNSPECIFIED,this.directionCollection=new WeakMap,this.animateCollection=new WeakMap,this.wrapper=t,this.direction=e,Object.assign(this.options,null!=i?i:{})}run(){return d(this,void 0,void 0,(function*(){if(this.state!==h.UNSPECIFIED)throw new Error(`The feed is currently running and its status does not match the uncertainty. Current status of the tape: '${this.state}'`);this.state=h.START,this.tapeAbort=new AbortController;const t=new this.options.shift;this.items=this.direction.sort(this.wrapper.children),this.distance=this.getDistance(t),this.events(),this.items.forEach((e=>this.moveTapeItem(new this.direction({item:e,distance:this.distance,shift:t})))),!0===this.options.optimize&&(this.observer=new IntersectionObserver((([t])=>this.optimizeIf(!1===(null==t?void 0:t.isIntersecting)))),this.observer.observe(this.wrapper)),this.state=h.WORK}))}pause(){return d(this,void 0,void 0,(function*(){if(h.WORK!==this.state)throw new Error(`The tape does not move so it cannot be stopped. Current status of the tape: '${this.state}'`);this.state=h.PAUSE,this.items.forEach((t=>{const e=this.directionCollection.get(t);this.animateCollection.get(e).wait()}))}))}resume(){return d(this,void 0,void 0,(function*(){if(this.state!==h.PAUSE)throw new Error(`The tape is not paused at this time. Current status of the tape: '${this.state}'`);this.state=h.WORK,this.items.forEach((t=>{const e=this.directionCollection.get(t);this.animateCollection.get(e).continue()}))}))}destroy(){var t;if(this.state===h.UNSPECIFIED)throw new Error("The plugin has not yet started, there is nothing to destroy.");this.tapeAbort.abort(),null===(t=this.observer)||void 0===t||t.disconnect(),this.directionCollection=new WeakMap,this.animateCollection=new WeakMap,this.state=h.UNSPECIFIED}events(){const t=this.tapeAbort.signal;this.wrapper.addEventListener("tapeAnimateClone",(t=>{t.detail.direction.showClone((t=>{this.wrapper[this.options.insert](t)}))}),{signal:t}),this.wrapper.addEventListener("tapeAnimateEnd",(t=>{const e=t.detail.direction;this.moveTapeItem(e)}),{signal:t}),!0===this.options.optimize&&document.addEventListener("visibilitychange",(()=>this.optimizeIf("hidden"===document.visibilityState)),{signal:t})}moveTapeItem(t){return d(this,void 0,void 0,(function*(){const e=new this.options.animate({duration:this.options.duration,timing:this.options.timing,draw:t.progress.bind(t)});this.directionCollection.set(t.getItem(),t),this.animateCollection.set(t,e),e.begin()}))}getDistance(t){let e;const i=(t="offsetLeft",e="offsetWidth")=>{if(!(this.items.length>0))return 0;const[i]=this.items,s=this.items[this.items.length-1],r=i[t]+i[e],n=s[t]+s[e];return r>n?r:n};if(t instanceof r){if(e=this.wrapper.clientWidth,!0===this.options.elasticDistance){const t=i();t>e&&(e=t)}return e}if(e=this.wrapper.clientHeight,!0===this.options.elasticDistance){const t=i("offsetTop","offsetHeight");t>e&&(e=t)}return e}optimizeIf(t){if(!0===t){if(this.state!==h.WORK)return;this.pause()}else{if(this.state!==h.PAUSE)return;this.resume()}}}},663:function(t){t.exports=function(){"use strict";var t="undefined"!=typeof document&&document.documentMode,e={rootMargin:"0px",threshold:0,load:function(e){if("picture"===e.nodeName.toLowerCase()){var i=e.querySelector("img"),s=!1;null===i&&(i=document.createElement("img"),s=!0),t&&e.getAttribute("data-iesrc")&&(i.src=e.getAttribute("data-iesrc")),e.getAttribute("data-alt")&&(i.alt=e.getAttribute("data-alt")),s&&e.append(i)}if("video"===e.nodeName.toLowerCase()&&!e.getAttribute("data-src")&&e.children){for(var r=e.children,n=void 0,o=0;o<=r.length-1;o++)(n=r[o].getAttribute("data-src"))&&(r[o].src=n);e.load()}e.getAttribute("data-poster")&&(e.poster=e.getAttribute("data-poster")),e.getAttribute("data-src")&&(e.src=e.getAttribute("data-src")),e.getAttribute("data-srcset")&&e.setAttribute("srcset",e.getAttribute("data-srcset"));var a=",";if(e.getAttribute("data-background-delimiter")&&(a=e.getAttribute("data-background-delimiter")),e.getAttribute("data-background-image"))e.style.backgroundImage="url('"+e.getAttribute("data-background-image").split(a).join("'),url('")+"')";else if(e.getAttribute("data-background-image-set")){var h=e.getAttribute("data-background-image-set").split(a),d=h[0].substr(0,h[0].indexOf(" "))||h[0];d=-1===d.indexOf("url(")?"url("+d+")":d,1===h.length?e.style.backgroundImage=d:e.setAttribute("style",(e.getAttribute("style")||"")+"background-image: "+d+"; background-image: -webkit-image-set("+h+"); background-image: image-set("+h+")")}e.getAttribute("data-toggle-class")&&e.classList.toggle(e.getAttribute("data-toggle-class"))},loaded:function(){}};function i(t){t.setAttribute("data-loaded",!0)}var s=function(t){return"true"===t.getAttribute("data-loaded")},r=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return t instanceof Element?[t]:t instanceof NodeList?t:e.querySelectorAll(t)};return function(){var t,n,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},h=Object.assign({},e,a),d=h.root,c=h.rootMargin,u=h.threshold,g=h.load,l=h.loaded,f=void 0;"undefined"!=typeof window&&window.IntersectionObserver&&(f=new IntersectionObserver((t=g,n=l,function(e,r){e.forEach((function(e){(0<e.intersectionRatio||e.isIntersecting)&&(r.unobserve(e.target),s(e.target)||(t(e.target),i(e.target),n(e.target)))}))}),{root:d,rootMargin:c,threshold:u}));for(var p,m=r(o,d),v=0;v<m.length;v++)(p=m[v]).getAttribute("data-placeholder-background")&&(p.style.background=p.getAttribute("data-placeholder-background"));return{observe:function(){for(var t=r(o,d),e=0;e<t.length;e++)s(t[e])||(f?f.observe(t[e]):(g(t[e]),i(t[e]),l(t[e])))},triggerLoad:function(t){s(t)||(g(t),i(t),l(t))},observer:f}}}()}},e={};function i(s){var r=e[s];if(void 0!==r)return r.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,i),n.exports}i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";var t=i(696),e=i(391);class s extends e.Z{getNeedDistance(){return this.item.offsetHeight+this.item.offsetTop}getTriggerDistance(){return this.needDistance-this.item.offsetHeight}getDistance(){return this.distance}getNewPassed(){return this.distance-this.item.offsetTop-this.item.offsetHeight}getClonePassed(){return this.distance-this.clone.offsetTop}getStep(){return-(this.proggressed-this.prevProggressed)}isFinished(){return super.isFinished()&&0>=this.needDistance+this.passed}isTrigger(){return super.isTrigger()&&0>this.triggerDistance+this.passed}}class r extends e.Z{getNeedDistance(){return this.distance-this.item.offsetTop}getTriggerDistance(){return this.needDistance-this.item.offsetHeight}getDistance(){return this.distance}getNewPassed(){return-this.item.offsetTop}getClonePassed(){return-this.clone.offsetTop-this.clone.offsetHeight-this.step}getStep(){return Number(this.proggressed-this.prevProggressed)}isFinished(){return super.isFinished()&&this.proggressed>=this.needDistance}isTrigger(){return super.isTrigger()&&this.proggressed>this.triggerDistance}static sort(t){return Array.from(t).reverse()}}class n{shift(t,e){t.style.transform=`translate3d(0, ${e}px, 0)`}}var o=i(356),a=i(663),h=i.n(a);window.addEventListener("load",(function(){for(var e=0,i=document.querySelectorAll(".js-tape-slider--right");e<i.length;e++){var a=i[e];new o.Z({wrapper:a}).run()}for(var d=0,c=document.querySelectorAll(".js-tape-slider--left");d<c.length;d++){var u=c[d];new o.Z({wrapper:u,direction:t.Z}).run()}for(var g=0,l=document.querySelectorAll(".js-tape-slider--up");g<l.length;g++){var f=l[g];new o.Z({wrapper:f,direction:s,options:{shift:n}}).run()}for(var p=0,m=document.querySelectorAll(".js-tape-slider--down");p<m.length;p++){var v=m[p];new o.Z({wrapper:v,direction:r,options:{shift:n}}).run()}var b=0,w=0,A=!1,D=!1,P=document.querySelector(".header");document.addEventListener("scroll",(function(t){b=w,w=window.scrollY,A||(window.requestAnimationFrame((function(){var t,e;(t=w)<(e=b)&&!D?(P.classList.add("header_type_sticky"),D=!0):t>e&&(P.classList.remove("header_type_sticky"),D=!1),A=!1})),A=!0)}),{passive:!0}),h()().observe()}))}(),function(){"use strict";var t=i(356),e=i(829);function s(t){for(let e=0,i=1;;e+=i,i/=2)if(t>=(7-4*e)/11)return-Math.pow((11-6*e-11*t)/4,2)+Math.pow(i,2);return null}window.addEventListener("load",(function(){new t.Z({wrapper:document.querySelector(".js-tape-slider_problem_timing"),direction:e.Z,options:{duration:7e3,timing:s}}).run(),new t.Z({wrapper:document.querySelector(".js-tape-slider_problem_collision"),direction:e.Z,options:{duration:1e3}}).run()}))}()}();